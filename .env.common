# ========================================
# UniSync 앱 컨테이너 공통 환경변수
# ========================================
#
# 용도:
# - docker-compose.acceptance.yml 및 docker-compose.demo.yml의
#   Spring Boot 컨테이너에 주입되는 공통 설정
# - .env.acceptance 및 .env.demo에서 환경별 오버라이드 가능
# - .env.local에도 포함되어 로컬 직접 실행 시 사용됨
#
# 참고:
# - 이 파일은 커밋됨 (민감 정보 없음)
# - 민감 정보는 .env.local에만 존재
# ========================================

# Database Names (컨테이너 공통)
USER_SERVICE_DB_NAME=user_db
COURSE_SERVICE_DB_NAME=course_db
SCHEDULE_SERVICE_DB_NAME=schedule_db

# Database URLs (컨테이너 네트워크용)
USER_SERVICE_DATABASE_URL=jdbc:mysql://mysql:3306/user_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Seoul&characterEncoding=UTF-8
COURSE_SERVICE_DATABASE_URL=jdbc:mysql://mysql:3306/course_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Seoul&characterEncoding=UTF-8
SCHEDULE_SERVICE_DATABASE_URL=jdbc:mysql://mysql:3306/schedule_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Seoul&characterEncoding=UTF-8

# MySQL Connection (기본값, pytest용)
MYSQL_USER=unisync
MYSQL_PASSWORD=unisync_password

# SQS Queue Names (Phase 1: Manual Sync)
SQS_CANVAS_SYNC_QUEUE=lambda-to-courseservice-sync
SQS_ASSIGNMENT_TO_SCHEDULE_QUEUE=courseservice-to-scheduleservice-assignments
SQS_COURSE_TO_SCHEDULE_QUEUE=courseservice-to-scheduleservice-courses
SQS_DLQ_QUEUE=dlq-queue

# SQS Queue Names (Phase 2/3: 향후 추가 예정)
# SQS_SUBMISSION_EVENTS_QUEUE=lambda-to-scheduleservice-submissions
# SQS_TASK_CREATION_QUEUE=llm-to-scheduleservice-subtasks

# S3 Bucket Names
S3_ATTACHMENTS_BUCKET=unisync-attachments
S3_LAMBDA_CODE_BUCKET=unisync-lambda-code

# Canvas Configuration (Public)
CANVAS_BASE_URL=https://khcanvas.khu.ac.kr
CANVAS_API_BASE_URL=https://khcanvas.khu.ac.kr/api/v1

# Cognito Configuration (컨테이너 네트워크용)
COGNITO_REGION=ap-northeast-2
COGNITO_ENDPOINT=http://localstack:4566
# Note: COGNITO_USER_POOL_ID, COGNITO_CLIENT_ID는 LocalStack이 생성하므로 .env.local에 정의

# JWT Configuration (default, override in .env.local)
JWT_EXPIRATION=86400000

# Service URLs (컨테이너 네트워크용, 로컬은 localhost로 오버라이드)
USER_SERVICE_URL=http://user-service:8081
COURSE_SERVICE_URL=http://course-service:8082
SCHEDULE_SERVICE_URL=http://schedule-service:8083

# AWS Configuration (LocalStack, 컨테이너 네트워크용)
AWS_SQS_ENDPOINT=http://localstack:4566
AWS_LAMBDA_ENDPOINT_URL=http://localstack:4566
AWS_REGION=ap-northeast-2
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test

# Lambda Configuration
CANVAS_SYNC_LAMBDA_FUNCTION_NAME=canvas-sync-lambda
AWS_LAMBDA_CANVAS_SYNC_FUNCTION_NAME=canvas-sync-lambda
AWS_LAMBDA_ENDPOINT_URL=http://localstack:4566

# LocalStack Configuration (컨테이너 내부)
LOCALSTACK_ENDPOINT=http://localhost:4566

# MySQL 연결 (컨테이너 기본값)
MYSQL_HOST=mysql
MYSQL_PORT=3306
