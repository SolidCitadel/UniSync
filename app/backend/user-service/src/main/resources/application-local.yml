# application-local.yml - 로컬 개발용 프로파일
# IDE에서 main()을 직접 실행할 때 사용
# docker-compose up으로 띄운 인프라(MySQL, LocalStack)에 접속합니다.
#
# 환경변수:
# - Gradle bootRun이 루트의 .env.local 파일을 로드하여 주입
# - 모든 값은 플레이스홀더 사용 (하드코딩 금지)

spring:
  datasource:
    # docker-compose.yml의 MySQL (호스트 포트 3307)
    url: ${USER_SERVICE_DATABASE_URL}
    username: ${USER_SERVICE_DB_USER}
    password: ${USER_SERVICE_DB_PASSWORD}

  jpa:
    hibernate:
      ddl-auto: update  # 개발 편의를 위한 자동 스키마 업데이트
    show-sql: true

# AWS Configuration (LocalStack)
aws:
  region: ${AWS_REGION}
  credentials:
    access-key: test
    secret-key: test
  cognito:
    user-pool-id: ${COGNITO_USER_POOL_ID}
    client-id: ${COGNITO_CLIENT_ID}
    region: ${AWS_REGION}
    endpoint: http://localhost:4566
  sqs:
    endpoint: ${AWS_SQS_ENDPOINT}
    region: ${AWS_REGION}
    queues:
      user-token-registered: ${SQS_USER_TOKEN_REGISTERED_QUEUE}

# UniSync Configuration
unisync:
  encryption:
    key: ${ENCRYPTION_KEY}
  api-keys:
    canvas-sync-lambda: ${CANVAS_SYNC_API_KEY}

# Canvas Configuration
canvas:
  base-url: ${CANVAS_BASE_URL}

# Logging (상세 로깅)
logging:
  level:
    com.unisync: DEBUG
    org.springframework.web: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
