# Local Development Profile
# Usage: Run with SPRING_PROFILES_ACTIVE=local (or set in IDE)
# Reads environment variables from .env file in project root

spring:
  dotenv:
    location: file:../../../.env

  datasource:
    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3307}/${USER_SERVICE_DB_NAME:user_db}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Seoul&characterEncoding=UTF-8
    username: ${USER_SERVICE_DB_USER:unisync}
    password: ${USER_SERVICE_DB_PASSWORD:unisync_password}

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true

# AWS Configuration (LocalStack)
aws:
  region: ${AWS_REGION:ap-northeast-2}
  endpoint: ${LOCALSTACK_ENDPOINT:http://localhost:4566}
  credentials:
    access-key: ${AWS_ACCESS_KEY_ID:test}
    secret-key: ${AWS_SECRET_ACCESS_KEY:test}

  cognito:
    region: ${COGNITO_REGION:ap-northeast-2}
    endpoint: ${COGNITO_ENDPOINT:http://localhost:4566}

  sqs:
    endpoint: ${LOCALSTACK_ENDPOINT:http://localhost:4566}
    region: ${AWS_REGION:ap-northeast-2}
    queues:
      user-token-registered: ${SQS_USER_TOKEN_REGISTERED_QUEUE:user-token-registered-queue}

# Canvas Configuration
canvas:
  base-url: ${CANVAS_BASE_URL:https://khcanvas.khu.ac.kr}

# Logging
logging:
  level:
    com.unisync: DEBUG
    org.springframework.web: INFO
    org.hibernate.SQL: DEBUG