# UniSync 시스템 설계서

## 1. 시스템 아키텍처

### 1.1 전체 구조도
```
[Client - React]
       |
       | HTTPS
       |
[API Gateway - ALB + Cognito]
       |
       |--- [User-Service]        --- [MySQL - Users DB]
       |--- [Course-Service]      --- [MySQL - Courses DB]
       |--- [Sync-Service]        --- [MySQL - Sync DB] + [SQS]
       |--- [Schedule-Service]    --- [MySQL - Schedules DB]
       |--- [Social-Service]      --- [MySQL - Social DB]
       |
       |--- [Sync-Workflow - Step Functions + Lambda]
       |--- [LLM Service - Lambda]
```

### 1.2 서비스 구성
- **API Gateway**: ALB + AWS Cognito (인증/인가)
- **Backend Services**: Spring Boot 기반 마이크로서비스
- **Serverless Components**: AWS Lambda, Step Functions
- **Data Layer**: MySQL (RDS) - 서비스별 DB 분리
- **Message Queue**: AWS SQS
- **Event Bus**: AWS EventBridge

---

## 2. 데이터 모델

### 2.1 User-Service

#### Users
```sql
CREATE TABLE users (
    user_id BIGINT PRIMARY KEY AUTO_INCREMENT,
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255),
    name VARCHAR(100) NOT NULL,
    canvas_user_id VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_email (email)
);
```

#### Credentials
```sql
CREATE TABLE credentials (
    credential_id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    provider ENUM('CANVAS', 'GOOGLE', 'TODOIST') NOT NULL,
    access_token TEXT NOT NULL,
    refresh_token TEXT,
    token_expires_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE,
    UNIQUE KEY uk_user_provider (user_id, provider),
    INDEX idx_user_id (user_id)
);
```

### 2.2 Course-Service

#### Courses
```sql
CREATE TABLE courses (
    course_id BIGINT PRIMARY KEY AUTO_INCREMENT,
    canvas_course_id VARCHAR(100) UNIQUE NOT NULL,
    course_code VARCHAR(50),
    course_name VARCHAR(255) NOT NULL,
    semester VARCHAR(50),
    instructor VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_canvas_course_id (canvas_course_id)
);
```

#### Enrollments
```sql
CREATE TABLE enrollments (
    enrollment_id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    course_id BIGINT NOT NULL,
    canvas_enrollment_id VARCHAR(100),
    role ENUM('STUDENT', 'TA', 'INSTRUCTOR') DEFAULT 'STUDENT',
    is_sync_leader BOOLEAN DEFAULT FALSE,
    enrolled_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (course_id) REFERENCES courses(course_id) ON DELETE CASCADE,
    UNIQUE KEY uk_user_course (user_id, course_id),
    INDEX idx_user_id (user_id),
    INDEX idx_course_id (course_id),
    INDEX idx_sync_leader (course_id, is_sync_leader)
);
```

### 2.3 Sync-Service

#### Assignments
```sql
CREATE TABLE assignments (
    assignment_id BIGINT PRIMARY KEY AUTO_INCREMENT,
    canvas_assignment_id VARCHAR(100) UNIQUE NOT NULL,
    course_id BIGINT NOT NULL,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    due_date TIMESTAMP,
    points_possible DECIMAL(10, 2),
    submission_types VARCHAR(255),
    canvas_url VARCHAR(512),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (course_id) REFERENCES courses(course_id) ON DELETE CASCADE,
    INDEX idx_canvas_assignment_id (canvas_assignment_id),
    INDEX idx_course_id (course_id),
    INDEX idx_due_date (due_date)
);
```

#### Notices
```sql
CREATE TABLE notices (
    notice_id BIGINT PRIMARY KEY AUTO_INCREMENT,
    canvas_announcement_id VARCHAR(100) UNIQUE NOT NULL,
    course_id BIGINT NOT NULL,
    title VARCHAR(255) NOT NULL,
    message TEXT,
    posted_at TIMESTAMP,
    canvas_url VARCHAR(512),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (course_id) REFERENCES courses(course_id) ON DELETE CASCADE,
    INDEX idx_canvas_announcement_id (canvas_announcement_id),
    INDEX idx_course_id (course_id)
);
```

#### Tasks
```sql
CREATE TABLE tasks (
    task_id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    assignment_id BIGINT,
    parent_task_id BIGINT,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    due_date TIMESTAMP,
    status ENUM('TODO', 'IN_PROGRESS', 'DONE') DEFAULT 'TODO',
    priority ENUM('LOW', 'MEDIUM', 'HIGH') DEFAULT 'MEDIUM',
    is_ai_generated BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (assignment_id) REFERENCES assignments(assignment_id) ON DELETE CASCADE,
    FOREIGN KEY (parent_task_id) REFERENCES tasks(task_id) ON DELETE CASCADE,
    INDEX idx_user_id (user_id),
    INDEX idx_assignment_id (assignment_id),
    INDEX idx_parent_task_id (parent_task_id),
    INDEX idx_status (status),
    INDEX idx_due_date (due_date)
);
```

#### Sync_Status
```sql
CREATE TABLE sync_status (
    sync_id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    provider ENUM('CANVAS', 'GOOGLE_CALENDAR', 'TODOIST') NOT NULL,
    last_synced_at TIMESTAMP,
    sync_state ENUM('IDLE', 'IN_PROGRESS', 'FAILED') DEFAULT 'IDLE',
    error_message TEXT,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY uk_user_provider (user_id, provider),
    INDEX idx_user_id (user_id)
);
```

### 2.4 Schedule-Service

#### User_Schedules
```sql
CREATE TABLE user_schedules (
    schedule_id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    start_time TIMESTAMP NOT NULL,
    end_time TIMESTAMP NOT NULL,
    location VARCHAR(255),
    category VARCHAR(50),
    tags JSON,
    is_all_day BOOLEAN DEFAULT FALSE,
    recurrence_rule VARCHAR(255),
    external_id VARCHAR(255),
    external_provider ENUM('GOOGLE_CALENDAR', 'TODOIST'),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_user_id (user_id),
    INDEX idx_start_time (start_time),
    INDEX idx_end_time (end_time),
    INDEX idx_external (external_provider, external_id)
);
```

### 2.5 Social-Service

#### Friendships
```sql
CREATE TABLE friendships (
    friendship_id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    friend_id BIGINT NOT NULL,
    status ENUM('PENDING', 'ACCEPTED', 'BLOCKED') DEFAULT 'PENDING',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY uk_user_friend (user_id, friend_id),
    INDEX idx_user_id (user_id),
    INDEX idx_friend_id (friend_id),
    INDEX idx_status (status),
    CHECK (user_id != friend_id)
);
```

---

## 3. API 설계

### 3.1 User-Service API

#### 인증 및 회원
- `POST /api/users/register` - 회원가입
- `POST /api/users/login` - 로그인
- `GET /api/users/profile` - 프로필 조회
- `PUT /api/users/profile` - 프로필 수정
- `DELETE /api/users/account` - 계정 삭제

#### 외부 계정 연동
- `POST /api/users/credentials/canvas` - Canvas API 토큰 저장
  - Request Body: `{ "canvasToken": "string", "canvasUrl": "https://canvas.example.com" }`
- `POST /api/users/credentials/google` - Google 계정 연동 (OAuth2)
- `POST /api/users/credentials/todoist` - Todoist 계정 연동 (OAuth2)
- `GET /api/users/credentials` - 연동된 계정 목록
- `DELETE /api/users/credentials/{provider}` - 계정 연동 해제

### 3.2 Course-Service API

#### 수강 과목
- `GET /api/courses` - 내 수강 과목 목록
- `GET /api/courses/{courseId}` - 과목 상세 정보
- `POST /api/courses/sync` - Canvas에서 과목 동기화
- `GET /api/courses/{courseId}/students` - 과목 수강생 목록

### 3.3 Sync-Service API

#### 과제 관리
- `GET /api/assignments` - 과제 목록 (필터링: 과목, 마감일, 상태)
- `GET /api/assignments/{assignmentId}` - 과제 상세
  - Response에 AI 생성된 task 목록 포함

#### Task 관리
- `GET /api/tasks` - Task 목록
- `POST /api/tasks` - Task 생성
- `PUT /api/tasks/{taskId}` - Task 수정
- `DELETE /api/tasks/{taskId}` - Task 삭제
- `PATCH /api/tasks/{taskId}/status` - Task 상태 변경

#### 동기화
- `POST /api/sync/trigger` - 수동 동기화 트리거
- `GET /api/sync/status` - 동기화 상태 조회

#### 공지사항
- `GET /api/notices` - 공지사항 목록
- `GET /api/notices/{noticeId}` - 공지 상세

### 3.4 Schedule-Service API

#### 일정 관리
- `GET /api/schedules` - 일정 목록 (날짜 범위, 카테고리 필터)
- `POST /api/schedules` - 일정 생성
- `PUT /api/schedules/{scheduleId}` - 일정 수정
- `DELETE /api/schedules/{scheduleId}` - 일정 삭제

#### 공강 찾기
- `POST /api/schedules/find-free-slots` - 여러 사용자 공강 시간 계산
  - Request Body: `{ userIds: [1, 2, 3], startDate, endDate, minDuration }`
  - Response: 겹치지 않는 시간대 목록

### 3.5 Social-Service API

#### 친구 관리
- `GET /api/friends` - 친구 목록
- `POST /api/friends/request` - 친구 요청
- `PUT /api/friends/{friendshipId}/accept` - 친구 수락
- `DELETE /api/friends/{friendshipId}` - 친구 삭제/거절

#### 친구 추천
- `GET /api/friends/recommendations` - 친구 추천 (같은 과목 수강생)

---

## 4. 서비스 간 통신

### 4.1 동기 통신 (REST API)
- API Gateway를 통한 클라이언트 요청은 동기 처리
- 서비스 간 직접 호출은 최소화
- 필요 시 Service Discovery (Spring Cloud) 또는 ALB 활용

### 4.2 비동기 통신 (Event-Driven)

#### SQS 큐 구성
1. **assignment-events-queue**
   - Producer: Sync-Workflow (Step Functions)
   - Consumer: Sync-Service, LLM Lambda
   - Message: 새로운 과제/공지 정보 및 AI 분석 트리거

2. **submission-events-queue**
   - Producer: Sync-Workflow (Step Functions)
   - Consumer: LLM Lambda
   - Message: 과제 제출물 검증 요청

3. **task-creation-queue**
   - Producer: LLM Lambda
   - Consumer: Sync-Service
   - Message: AI 생성된 task 정보

4. **external-sync-queue**
   - Producer: Sync-Service
   - Consumer: Sync-Workflow
   - Message: Google Calendar, Todoist 동기화 요청

#### EventBridge 이벤트
- `AssignmentCreated` - 새 과제 생성 시
- `AssignmentUpdated` - 과제 수정 시
- `TaskCompleted` - Task 완료 시
- `SyncFailed` - 동기화 실패 시

---

## 5. 동기화 전략

### 5.1 Canvas API 동기화

#### 폴링 주기
- **실시간 모드**: 5분마다 폴링 (EventBridge Scheduler)
- **절전 모드**: 사용자 비활성 시 30분마다
- **수동 트리거**: 사용자 요청 시 즉시

#### Leader 선출 방식
- 과목당 한 명의 Leader만 Canvas API 호출 (API 비용 절감)
- Course-Service가 Enrollment 테이블에서 `is_sync_leader` 관리
- Leader 선출 조건:
  1. 해당 과목의 첫 번째 연동 사용자
  2. 기존 Leader가 연동 해제 시 다음 사용자로 자동 이관
- Leader가 조회한 데이터는 모든 수강생에게 공유

#### 변경 감지
- Canvas API의 `updated_at` 필드로 증분 동기화
- 마지막 동기화 시각 이후 변경된 항목만 조회
- Step Functions에서 처리:
  1. Canvas API 호출
  2. 변경 사항 비교
  3. 변경된 항목만 SQS로 전송

### 5.2 외부 서비스 양방향 동기화

#### Google Calendar
- **UniSync → Google**: 과제/일정 생성 시 Google Calendar API 호출
- **Google → UniSync**: Google Calendar Webhook 구독
  - Push Notification 수신
  - 변경 사항 Schedule-Service에 반영

#### Todoist
- **UniSync → Todoist**: Task 생성/수정 시 Todoist API 호출
- **Todoist → UniSync**: Webhook 구독 또는 주기적 폴링

#### 충돌 해결 정책
- **Last-Write-Wins**: 최신 수정 시각 기준
- **User Preference**: 설정에서 우선 소스 지정 (UniSync 우선 또는 외부 서비스 우선)
- **Manual Resolution**: 충돌 발생 시 사용자에게 선택 UI 제공

---

## 6. Sync-Workflow 설계 (Step Functions)

### 6.1 Canvas Sync Workflow
```
Start
  ↓
Get All Active Users with Canvas Credentials
  ↓
For Each Course (with Leader)
  ↓
  Lambda: Fetch Canvas Assignments, Announcements & Submissions
  ↓
  Lambda: Compare with DB (check updated_at)
  ↓
  New Assignment Detected?
    ↓ Yes
    Send to SQS (assignment-events-queue)
    → Triggers LLM Lambda for Task Generation
  ↓
  Submission Detected?
    ↓ Yes
    Send to SQS (submission-events-queue)
    → Triggers LLM Lambda for Validation
    → If valid, update task status to DONE
  ↓
Continue to Next Course
  ↓
End

---
LLM Lambda (triggered by assignment-events-queue):
  1. Analyze assignment description
  2. Generate task and subtask JSON
  3. Send to SQS (task-creation-queue)
  → Sync-Service consumes and creates tasks

LLM Lambda (triggered by submission-events-queue):
  1. Validate submission metadata
  2. Check file format, filename, count
  3. Return validation result
  → Sync-Service updates task status if valid
```

### 6.2 External Sync Workflow (Google Calendar, Todoist)
```
Start
  ↓
Receive Event from SQS (external-sync-queue)
  ↓
Lambda: Call External API (create/update/delete)
  ↓
Success?
  ↓ Yes
  Update Sync Status
  ↓ No
  Retry (최대 3회)
  ↓
  Still Failed? → Send Alert
  ↓
End
```

---

## 7. LLM 서비스 설계

### 7.1 Lambda 함수 구성
- **Runtime**: Python 3.11
- **Timeout**: 30초
- **Memory**: 512MB

### 7.2 기능

#### 1) Subtask 생성
- **Input**: 과제 설명 (텍스트)
- **Prompt**:
  ```
  다음 과제 설명을 분석하여 실행 가능한 subtask 목록을 JSON 형태로 생성하세요.
  각 subtask는 title, description, estimated_duration을 포함해야 합니다.

  과제 설명:
  {assignment_description}
  ```
- **Output**:
  ```json
  {
    "subtasks": [
      {
        "title": "문헌 조사",
        "description": "관련 논문 3편 이상 읽기",
        "estimated_duration": "2 hours"
      }
    ]
  }
  ```

#### 2) 제출물 유효성 검사
- **Input**: 과제 설명 + 제출물 메타데이터 (파일명, 확장자, 파일 크기)
- **Prompt**:
  ```
  다음 과제 요구사항과 제출물을 비교하여 적합성을 검증하세요.

  과제 요구사항:
  {assignment_description}

  제출물:
  - 파일명: {filename}
  - 확장자: {extension}
  - 파일 크기: {size}

  검증 항목: 파일 형식, 파일명 규칙, 제출물 개수
  ```
- **Output**:
  ```json
  {
    "is_valid": true,
    "issues": [],
    "warnings": ["파일명에 학번이 포함되지 않았습니다."]
  }
  ```

### 7.3 비용 관리
- 사용자당 월 LLM API 호출 제한
- 캐싱: 동일 과제에 대한 분석 결과 캐시

---

## 8. 보안 설계

### 8.1 인증/인가
- **AWS Cognito**: 사용자 인증 및 JWT 발급
- **JWT 검증**: API Gateway에서 자동 검증
- **Role-Based Access Control**:
  - 본인 데이터만 접근 가능
  - 친구 데이터는 공강 찾기 등 제한적 접근

### 8.2 데이터 암호화
- **전송 중**: HTTPS (TLS 1.2+)
- **저장 중**:
  - RDS 암호화 활성화
  - access_token, refresh_token은 AES-256 암호화 후 저장

### 8.3 API 키 관리
- **AWS Secrets Manager**:
  - Canvas API Token
  - Google OAuth Client Secret
  - Todoist API Key
  - LLM API Key
- Lambda 및 Spring Boot 서비스에서 런타임 시 조회

### 8.4 Rate Limiting
- API Gateway에서 사용자별 Rate Limit 설정
  - 일반 API: 100 req/min
  - LLM 분석 API: 10 req/min

---

## 9. 배포 아키텍처

### 9.1 AWS 인프라

#### Compute
- **ECS Fargate**: Spring Boot 마이크로서비스 컨테이너 실행
  - User-Service: 2 tasks (CPU: 0.5 vCPU, Memory: 1GB)
  - Course-Service: 2 tasks
  - Sync-Service: 2 tasks
  - Schedule-Service: 2 tasks
  - Social-Service: 1 task
- **Lambda**: Sync-Workflow, LLM Service

#### Data
- **RDS MySQL**: 서비스별 DB (Multi-AZ 구성)
- **SQS**: 메시지 큐
- **EventBridge**: 이벤트 스케줄링

#### Networking
- **ALB**: 로드 밸런싱 및 HTTPS 종료
- **VPC**: Private Subnet (ECS, RDS), Public Subnet (ALB)
- **Security Groups**: 서비스별 최소 권한 원칙

#### Monitoring
- **CloudWatch**: 로그 수집, 메트릭 모니터링
- **CloudWatch Alarms**: 에러율, 응답 시간 알림

### 9.2 CI/CD Pipeline (GitHub Actions)

```yaml
# .github/workflows/deploy.yml
on:
  push:
    branches: [main]

jobs:
  build:
    - Checkout code
    - Build Spring Boot JAR
    - Build Docker image
    - Push to ECR

  deploy:
    - Update ECS Task Definition
    - Deploy to ECS Fargate
    - Run health check
    - Rollback if failed
```

---

## 10. 개발 환경 설정 (docker-compose + LocalStack)

### 10.1 docker-compose.yml 구성
```yaml
version: '3.8'
services:
  # LocalStack (AWS 서비스 에뮬레이션)
  localstack:
    image: localstack/localstack
    ports:
      - "4566:4566"
    environment:
      - SERVICES=sqs,rds,lambda,events,cognito-idp
      - DEBUG=1

  # MySQL
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: root
    ports:
      - "3306:3306"

  # Spring Boot Services
  user-service:
    build: ./user-service
    ports:
      - "8081:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=local

  course-service:
    build: ./course-service
    ports:
      - "8082:8080"

  sync-service:
    build: ./sync-service
    ports:
      - "8083:8080"

  schedule-service:
    build: ./schedule-service
    ports:
      - "8084:8080"

  social-service:
    build: ./social-service
    ports:
      - "8085:8080"

  # React Frontend
  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
```

### 10.2 로컬 개발 플로우
1. `docker-compose up` - 전체 환경 실행
2. LocalStack에서 SQS 큐, EventBridge 규칙 생성
3. MySQL 스키마 자동 생성 (Flyway/Liquibase)
4. Swagger UI에서 API 테스트 (http://localhost:808x/swagger-ui.html)

---

## 11. 기술 스택 정리

### Frontend
- **React** 18+
- **TypeScript**
- **React Query** (서버 상태 관리)
- **Zustand** (클라이언트 상태 관리)
- **TailwindCSS** (스타일링)
- **FullCalendar** (캘린더 UI)

### Backend
- **Spring Boot** 3.x
- **Spring Cloud** (Service Discovery)
- **Spring Data JPA**
- **Swagger/OpenAPI** 3.0
- **AWS SDK for Java** 2.x

### Infrastructure
- **Docker** & **docker-compose**
- **LocalStack** (로컬 AWS 에뮬레이션)
- **MySQL** 8.0
- **AWS**: ECS, Fargate, Lambda, SQS, EventBridge, RDS, ALB, Cognito, Secrets Manager

### DevOps
- **GitHub Actions** (CI/CD)
- **AWS ECR** (컨테이너 레지스트리)
- **CloudWatch** (모니터링)

---

## 12. 개발 단계별 우선순위

### Phase 1: 기본 기능
1. User-Service (회원가입, 로그인, Canvas 연동)
2. Course-Service (수강 과목 조회)
3. Sync-Service (Canvas 과제 동기화 기본)
4. 간단한 대시보드 (과제 목록 표시)

### Phase 2: 핵심 동기화
1. Sync-Workflow (Step Functions + Lambda)
2. Leader 선출 로직
3. SQS 기반 이벤트 처리
4. Google Calendar 연동

### Phase 3: AI 기능
1. LLM Lambda 구현
2. Subtask 자동 생성
3. 제출물 유효성 검사

### Phase 4: 소셜 기능
1. Social-Service (친구 관리)
2. Schedule-Service (공강 찾기)
3. 친구 추천 알고리즘

### Phase 5: 고도화
1. Todoist 연동
2. 실시간 알림 (WebSocket)
3. 다양한 시각화 (칸반, 타임라인)
4. 성능 최적화 및 캐싱

---

## 부록: API 응답 예시

### GET /api/assignments
```json
{
  "data": [
    {
      "assignmentId": 1,
      "courseId": 10,
      "courseName": "데이터베이스",
      "title": "ER 다이어그램 설계",
      "description": "학생 관리 시스템의 ER 다이어그램을 작성하세요...",
      "dueDate": "2025-11-01T23:59:00Z",
      "pointsPossible": 20,
      "canvasUrl": "https://canvas.example.com/courses/10/assignments/1",
      "tasks": [
        {
          "taskId": 101,
          "title": "요구사항 분석",
          "status": "DONE"
        },
        {
          "taskId": 102,
          "title": "ER 다이어그램 작성",
          "status": "IN_PROGRESS"
        }
      ]
    }
  ],
  "pagination": {
    "page": 1,
    "size": 10,
    "totalElements": 25
  }
}
```

### POST /api/schedules/find-free-slots
```json
{
  "userIds": [1, 2, 3],
  "startDate": "2025-10-25",
  "endDate": "2025-10-31",
  "minDuration": 60
}
```
Response:
```json
{
  "freeSlots": [
    {
      "startTime": "2025-10-25T14:00:00Z",
      "endTime": "2025-10-25T16:00:00Z",
      "participants": [1, 2, 3]
    },
    {
      "startTime": "2025-10-27T10:00:00Z",
      "endTime": "2025-10-27T12:00:00Z",
      "participants": [1, 2, 3]
    }
  ]
}
```
